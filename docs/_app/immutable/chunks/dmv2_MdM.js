import{c as w,d as E,t as O,a as _,b as x}from"./CeL0kBow.js";import{t as S,o as C,z as T,K as z,a6 as A,v as M,W as I,a1 as K,a0 as L,x as N,y as v,p as Q,s as p,c as b,d as W,f as Y,g as c,h as g,r as y,i as j}from"./DZ27JwdP.js";import{d as q}from"./DwrWsqWZ.js";import{p as R,i as B}from"./3qeG2ayR.js";import{o as F}from"./FBymbpLG.js";import{c as G}from"./CaXHrBXP.js";function J(h,a,i=!1,d=!1,m=!1){var o=h,f="";S(()=>{var s=z;if(f===(f=a()??"")){C&&T();return}if(s.nodes_start!==null&&(A(s.nodes_start,s.nodes_end),s.nodes_start=s.nodes_end=null),f!==""){if(C){M.data;for(var e=T(),l=e;e!==null&&(e.nodeType!==8||e.data!=="");)l=e,e=I(e);if(e===null)throw K(),L;w(M,l),o=N(e);return}var n=f+"";i?n=`<svg>${n}</svg>`:d&&(n=`<math>${n}</math>`);var t=E(n);if((i||d)&&(t=v(t)),w(v(t),t.lastChild),i||d)for(;v(t);)o.before(v(t));else o.before(t)}})}function P(h,a,i){navigator.clipboard.writeText(a.content.toString()),c(i,!0),setTimeout(()=>c(i,!1),2e3)}var U=O('<div class="group relative mb-2 grid w-full max-w-full rounded-xl bg-neutral-100 px-4 py-3 antialiased ring-1 ring-gray-200 ring-offset-2 ring-offset-neutral-100 ring-inset dark:bg-neutral-800 dark:ring-gray-800 dark:ring-offset-neutral-800"><button class="absolute top-3 right-3 ml-auto flex max-w-max scale-0 cursor-pointer items-center gap-1.5 rounded-full bg-gray-900 px-2 py-1 text-xs font-medium text-white transition duration-100 group-hover:scale-100 hover:bg-gray-800"><!></button> <div class="max-w-full overflow-x-auto"><!></div></div>');function te(h,a){Q(a,!0);let i=R(a,"language",3,"typst"),d=R(a,"dark",3,!1),m=p(void 0),o=p(!1);F(async()=>{const r=window.matchMedia("(prefers-color-scheme: dark)");c(o,r.matches,!0),r.addEventListener("change",u=>{c(o,u.matches,!0)}),c(m,await G({themes:d()?["github-dark-default"]:["github-light-default","github-dark-default"],langs:["typst","latex"]}),!0)});const f=j(()=>g(m)?g(m).codeToHtml(a.content.toString(),{theme:g(o)||d()?"github-dark-default":"github-light-default",lang:i()}):"");let s=p(!1);var e=U(),l=b(e);l.__click=[P,a,s];var n=b(l);{var t=r=>{var u=x("Copy");_(r,u)},H=r=>{var u=x("Copied");_(r,u)};B(n,r=>{g(s)?r(H,!1):r(t)})}y(l);var k=Y(l,2),D=b(k);J(D,()=>g(f)),y(k),y(e),_(h,e),W()}q(["click"]);export{te as C};

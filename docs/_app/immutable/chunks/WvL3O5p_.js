import{ak as N,k as O,Y as L,P as Y,al as A,q as v,i as R,l as k,v as h,w as P,am as V,an as C,K as j,A as q,ao as F,f as M,y as b,j as m,p as U,ae as $,B as z,b as B,h as K,U as W,H as Z,o as G,x as w,z as S,ap as J}from"./aBwqe7DS.js";import{a as Q,r as D,h as E}from"./CWcahK1y.js";import{r as X}from"./CFRSe7AF.js";import{c as x}from"./CWsMwKfg.js";const ee=["touchstart","touchmove"];function se(s){return ee.includes(s)}function ie(s,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(s.__t??(s.__t=s.nodeValue))&&(s.__t=t,s.nodeValue=t+"")}function ae(s,e){return H(s,e)}function oe(s,e){N(),e.intro=e.intro??!1;const t=e.target,n=m,o=h;try{for(var a=O(t);a&&(a.nodeType!==8||a.data!==L);)a=Y(a);if(!a)throw A;v(!0),R(a),k();const i=H(s,{...e,anchor:a});if(h===null||h.nodeType!==8||h.data!==P)throw V(),A;return v(!1),i}catch(i){if(i===A)return e.recover===!1&&C(),N(),j(t),v(!1),ae(s,e);throw i}finally{v(n),R(o),X()}}const _=new Map;function H(s,{target:e,anchor:t,props:n={},events:o,context:a,intro:i=!0}){N();var u=new Set,p=l=>{for(var f=0;f<l.length;f++){var r=l[f];if(!u.has(r)){u.add(r);var c=se(r);e.addEventListener(r,E,{passive:c});var g=_.get(r);g===void 0?(document.addEventListener(r,E,{passive:c}),_.set(r,1)):_.set(r,g+1)}}};p(q(Q)),D.add(p);var d=void 0,T=F(()=>{var l=t??e.appendChild(M());return b(()=>{if(a){U({});var f=$;f.c=a}o&&(n.$$events=o),m&&x(l,null),d=s(l,n)||{},m&&(z.nodes_end=h),a&&B()}),()=>{var c;for(var f of u){e.removeEventListener(f,E);var r=_.get(f);--r===0?(document.removeEventListener(f,E),_.delete(f)):_.set(f,r)}D.delete(p),l!==t&&((c=l.parentNode)==null||c.removeChild(l))}});return y.set(d,T),d}let y=new WeakMap;function le(s,e){const t=y.get(s);return t?(y.delete(s),t(e)):Promise.resolve()}function ue(s,e,[t,n]=[0,0]){m&&t===0&&k();var o=s,a=null,i=null,u=J,p=t>0?W:0,d=!1;const T=(f,r=!0)=>{d=!0,l(r,f)},l=(f,r)=>{if(u===(u=f))return;let c=!1;if(m&&n!==-1){if(t===0){const I=o.data;I===L?n=0:I===Z?n=1/0:(n=parseInt(I.substring(1)),n!==n&&(n=u?1/0:-1))}const g=n>t;!!u===g&&(o=G(),R(o),v(!1),c=!0,n=-1)}u?(a?w(a):r&&(a=b(()=>r(o))),i&&S(i,()=>{i=null})):(i?w(i):r&&(i=b(()=>r(o,[t+1,n]))),a&&S(a,()=>{a=null})),c&&v(!0)};K(()=>{d=!1,e(T),d||l(null,null)},p),m&&(o=h)}export{oe as h,ue as i,ae as m,ie as s,le as u};

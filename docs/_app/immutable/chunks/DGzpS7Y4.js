import{b as w,d as D,f as E,a as _,t as x}from"./oJKTXW1w.js";import{o as L}from"./C-3Kyn5p.js";import{t as O,v as C,A as M,M as S,a9 as Y,w as T,Y as z,a3 as I,a2 as N,y as Q,z as v,p as j,s as p,c as b,d as q,h as c,g,r as y,f as B,i as F}from"./DVT4hDLY.js";import{d as G}from"./z5MLbTFn.js";import{p as R,i as J}from"./CnpKk2wc.js";import{c as K,t as P}from"./SQISEaX3.js";function U(h,a,i=!1,d=!1,m=!1){var o=h,f="";O(()=>{var s=S;if(f===(f=a()??"")){C&&M();return}if(s.nodes_start!==null&&(Y(s.nodes_start,s.nodes_end),s.nodes_start=s.nodes_end=null),f!==""){if(C){T.data;for(var e=M(),l=e;e!==null&&(e.nodeType!==8||e.data!=="");)l=e,e=z(e);if(e===null)throw I(),N;w(T,l),o=Q(e);return}var n=f+"";i?n=`<svg>${n}</svg>`:d&&(n=`<math>${n}</math>`);var t=D(n);if((i||d)&&(t=v(t)),w(v(t),t.lastChild),i||d)for(;v(t);)o.before(v(t));else o.before(t)}})}function V(h,a,i){navigator.clipboard.writeText(a.content.toString()),c(i,!0),setTimeout(()=>c(i,!1),2e3)}var W=E('<div class="group relative mb-2 grid w-full max-w-full rounded-xl bg-neutral-100 px-4 py-3 antialiased ring-1 ring-gray-200 ring-offset-2 ring-offset-neutral-100 ring-inset dark:bg-neutral-800 dark:ring-gray-800 dark:ring-offset-neutral-800"><button class="absolute top-3 right-3 ml-auto flex max-w-max scale-0 cursor-pointer items-center gap-1.5 rounded-full bg-gray-900 px-2 py-1 text-xs font-medium text-white transition duration-100 group-hover:scale-100 hover:bg-gray-800"><!></button> <div class="max-w-full overflow-x-auto"><!></div></div>');function re(h,a){j(a,!0);let i=R(a,"language",3,"typst"),d=R(a,"dark",3,!1),m=p(void 0),o=p(!1);L(async()=>{const r=window.matchMedia("(prefers-color-scheme: dark)");c(o,r.matches,!0),r.addEventListener("change",u=>{c(o,u.matches,!0)}),c(m,await K({themes:d()?["github-dark-default"]:["github-light-default","github-dark-default"],langs:[P,"latex"]}),!0)});const f=F(()=>g(m)?g(m).codeToHtml(a.content.toString(),{theme:g(o)||d()?"github-dark-default":"github-light-default",lang:i()}):"");let s=p(!1);var e=W(),l=b(e);l.__click=[V,a,s];var n=b(l);{var t=r=>{var u=x("Copy");_(r,u)},H=r=>{var u=x("Copied");_(r,u)};J(n,r=>{g(s)?r(H,!1):r(t)})}y(l);var k=B(l,2),A=b(k);U(A,()=>g(f)),y(k),y(e),_(h,e),q()}G(["click"]);export{re as C};
